uuid: 9cc013d4-ae53-4acf-ac49-3cf6b88108b1
langcode: en
status: true
dependencies:
  enforced:
    module:
      - migrate_wp
id: group_content_country_document
migration_tags: null
migration_group: wp
label: 'Create group content and build the bridge between group and node'
source:
  plugin: wp_wpfb_country_file
process:
  type:
    plugin: default_value
    default_value: country-group_node-document
  label: post_title
  gid:
    -
      plugin: explode
      source: cat_path
      delimiter: /
    -
      plugin: extract
      index:
        - 1
    -
      plugin: skip_on_empty
      method: row
    -
      plugin: migration_lookup
      migration: country
  entity_id:
    plugin: migration_lookup
    migration: document_wpfb_node
    source: file_id
destination:
  plugin: 'entity:group_content'
migration_dependencies:
  optional:
    - document_wpfb_node
